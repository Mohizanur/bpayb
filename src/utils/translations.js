// Comprehensive Translation System for BirrPay Bot

export const translations = {
  // Main Menu
  main_menu: {
    en: "🏠 **BirrPay Main Menu**\n\nChoose an option:",
    am: "🏠 **የBirrPay ዋና ሜኑ**\n\nአማራጭ ይምረጡ:"
  },
  
  // Help System
  help: {
    title: {
      en: "🤖 **BirrPay Bot Commands**",
      am: "🤖 **የBirrPay ቦት ትዕዛዞች**"
    },
    user_commands: {
      en: "📱 **User Commands:**",
      am: "📱 **የተጠቃሚ ትዕዛዞች:**"
    },
    admin_commands: {
      en: "🔑 **Admin Commands:**",
      am: "🔑 **የአስተዳዳሪ ትዕዛዞች:**"
    }
  },

  // Support System
  support: {
    title: {
      en: "💬 **BirrPay Support**",
      am: "💬 **የBirrPay ድጋፍ**"
    },
    contact: {
      en: "📧 **Contact us directly:**\nsupport@admin.birr‑pay",
      am: "📧 **በቀጥታ ያግኙን:**\nsupport@admin.birr‑pay"
    },
    message: {
      en: "💬 **Send a message:**\nJust type your question or issue and send it. Our admin will review and respond.",
      am: "💬 **መልእክት ይላኩ:**\nጥያቄዎን ወይም ችግሮን ብቻ ይተይቡ እና ይላኩ። አስተዳዳሪያችን ያገኝ እና ይመልሳል።"
    },
    quick_help: {
      en: "⚡ **Quick Help:**\n• /help - View all commands\n• /faq - Common questions\n• /mysubs - View subscriptions",
      am: "⚡ **ፈጣን እርዳታ:**\n• /help - ሁሉንም ትዕዛዞች ይመልከቱ\n• /faq - የተለመዱ ጥያቄዎች\n• /mysubs - መዋቅሮችን ይመልከቱ"
    },
    response_time: {
      en: "🕐 **Response time:** Usually within 24 hours",
      am: "🕐 **የምላሽ ጊዜ:** አብዛኛውን ጊዜ በ24 ሰዓት ውስጥ"
    }
  },

  // FAQ System
  faq: {
    title: {
      en: "❓ **Frequently Asked Questions**",
      am: "❓ **በተደጋጋሚ የሚጠየቁ ጥያቄዎች**"
    },
    how_works: {
      en: "**🤔 How does BirrPay work?**\n• Choose a service (Netflix, Spotify, etc.)\n• Select a plan and duration\n• Submit payment proof\n• Get instant activation",
      am: "**🤔 BirrPay እንዴት እንደሚሰራ?**\n• አገልግሎት ይምረጡ (Netflix, Spotify, ወዘተ)\n• እቅድ እና ጊዜ ይምረጡ\n• የክፍያ ማረጋገጫ ያቅርቡ\n• ፈጣን ማነቃቂያ ያግኙ"
    },
    payment_methods: {
      en: "**💳 What payment methods are accepted?**\n• CBE Birr\n• TeleBirr\n• Bank transfers\n• Mobile money",
      am: "**💳 ምን ዓይነት የክፍያ መንገዶች ይቀበላሉ?**\n• CBE Birr\n• TeleBirr\n• የባንክ ማስተላለፊያዎች\n• የሞባይል ገንዘብ"
    },
    activation_time: {
      en: "**⏰ How long does activation take?**\n• Usually within 5-10 minutes\n• Faster during business hours\n• 24/7 support available",
      am: "**⏰ ማነቃቂያ ስንት ጊዜ ይወስዳል?**\n• አብዛኛውን ጊዜ በ5-10 ደቂቃዎች ውስጥ\n• በንግድ ሰዓታት ፈጣን\n• 24/7 ድጋፍ ዝግጁ"
    },
    renew_subscription: {
      en: "**🔄 Can I renew my subscription?**\n• Yes! Use /mysubs to view current subscriptions\n• Renew anytime before expiration\n• Automatic reminders sent",
      am: "**🔄 መዋቅሬን መደስ እችላለሁ?**\n• አዎ! የአሁኑ መዋቅሮችን ለማየት /mysubs ይጠቀሙ\n• ከማብቂያ ቀን በፊት በማንኛውም ጊዜ ያድሱ\n• አውቶማቲክ ማስታወሻዎች ይላካሉ"
    },
    need_help: {
      en: "**📞 Need more help?**\n• Use /support for direct assistance\n• Contact: support@admin.birr‑pay\n• Response within 24 hours",
      am: "**📞 ተጨማሪ እርዳታ ያስፈልግዎታል?**\n• ለቀጥታ እርዳታ /support ይጠቀሙ\n• አድራሻ: support@admin.birr‑pay\n• በ24 ሰዓት ውስጥ ምላሽ"
    },
    language_support: {
      en: "**🌐 Language Support**\n• English and Amharic supported\n• Use /lang en or /lang am to change",
      am: "**🌐 የቋንቋ ድጋፍ**\n• እንግሊዝኛ እና አማርኛ ይደገፋሉ\n• ለመቀየር /lang en ወይም /lang am ይጠቀሙ"
    }
  },

  // Language System
  language: {
    settings: {
      en: "🌐 **Language Settings**\n\nChoose your preferred language:",
      am: "🌐 **የቋንቋ ቅንብሮች**\n\nየሚፈልጉትን ቋንቋ ይምረጡ:"
    },
    usage: {
      en: "🌐 **Language Settings**\n\n**Usage:** /lang en or /lang am\n\n**Available languages:**\n• /lang en - Switch to English\n• /lang am - Switch to Amharic",
      am: "🌐 **የቋንቋ ቅንብሮች**\n\n**አጠቃቀም:** /lang en ወይም /lang am\n\n**የሚገኙ ቋንቋዎች:**\n• /lang en - ወደ እንግሊዝኛ ቀይር\n• /lang am - ወደ አማርኛ ቀይር"
    },
    switched_en: {
      en: "🇺🇸 **Language switched to English**\n\nAll messages will now be displayed in English.",
      am: "🇺🇸 **ቋንቋ ወደ እንግሊዝኛ ተቀይሯል**\n\nሁሉም መልእክቶች አሁን በእንግሊዝኛ ይታያሉ።"
    },
    switched_am: {
      en: "🇪🇹 **Language switched to Amharic**\n\nAll messages will now be displayed in Amharic.",
      am: "🇪🇹 **ቋንቋ ወደ አማርኛ ተቀይሯል**\n\nሁሉም መልእክቶች አሁን በአማርኛ ይታያሉ።"
    },
    button_en: {
      en: "🇺🇸 English",
      am: "🇺🇸 English"
    },
    button_am: {
      en: "🇪🇹 አማርኛ",
      am: "🇪🇹 አማርኛ"
    }
  },

  // Subscriptions System
  subscriptions: {
    title: {
      en: "📊 **Your Subscriptions**",
      am: "📊 **የእርስዎ መዋቅሮች**"
    },
    no_subscriptions: {
      en: "📊 **Your Subscriptions**\n\nYou don't have any subscriptions yet.\n\nUse /start to subscribe to services!",
      am: "📊 **የእርስዎ መዋቅሮች**\n\nእስካሁን ምንም መዋቅሮች የሉዎትም።\n\nአገልግሎቶችን ለመመዝገብ /start ይጠቀሙ!"
    }
  },

  // Admin Commands
  admin: {
    access_denied: {
      en: "❌ Access denied. Admin only.",
      am: "❌ መዳረሻ ተሰርዟል። አስተዳዳሪ ብቻ።"
    }
  },

  // Error Messages
  errors: {
    generic: {
      en: "❌ Error occurred. Please try again.",
      am: "❌ ስህተት ተከስቷል። እባክዎ እንደገና ይሞክሩ።"
    }
  },

  // Navigation
  navigation: {
    back_to_menu: {
      en: "⬅️ Back to Menu",
      am: "⬅️ ወደ ሜኑ ተመለስ"
    },
    back: {
      en: "⬅️ Back",
      am: "⬅️ ተመለስ"
    },
    cancel: {
      en: "❌ Cancel",
      am: "❌ ሰርዝ"
    },
    confirm: {
      en: "✅ Confirm",
      am: "✅ አረጋግጥ"
    }
  }
};

// Translation function
export function t(key, lang = 'en') {
  const keys = key.split('.');
  let value = translations;
  
  for (const k of keys) {
    if (value && value[k]) {
      value = value[k];
    } else {
      console.warn(`Translation key not found: ${key}`);
      return key;
    }
  }
  
  if (typeof value === 'object' && value[lang]) {
    return value[lang];
  } else if (typeof value === 'string') {
    return value;
  } else {
    console.warn(`Translation not found for key: ${key}, lang: ${lang}`);
    return key;
  }
}

// Get user language from context
export function getUserLanguage(ctx) {
  return ctx.userLang || ctx.from?.language_code || 'en';
}

// Translate with user context
export function translate(key, ctx) {
  const lang = getUserLanguage(ctx);
  return t(key, lang);
}
